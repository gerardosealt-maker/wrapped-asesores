:root { --primary: #FF8200; --accent: #FF007A; --bg: #000; }
body[data-dev="acento"], body[data-dev="meseta"] { --primary: #0070f3; --accent: #00d4ff; }

* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Arial Black', sans-serif; }
body { background: #000; color: #fff; overflow: hidden; height: 100vh; display: flex; justify-content: center; }

#capture-area { width: 100%; max-width: 450px; height: 100vh; position: relative; overflow: hidden; background: #000; }

.story {
    position: absolute; width: 100%; height: 100%; display: none;
    flex-direction: column; justify-content: center; align-items: center; padding: 40px; text-align: center;
}
.story.active { display: flex; }

/* Efecto Lava Lamp */
.story::before {
    content: ""; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
    background: radial-gradient(circle, var(--primary) 0%, transparent 40%), radial-gradient(circle, var(--accent) 0%, transparent 40%);
    background-position: 10% 10%, 90% 90%; background-size: 50% 50%;
    animation: lava 15s infinite alternate ease-in-out; opacity: 0.5; z-index: 1; filter: blur(60px);
}
@keyframes lava { 0% { transform: translate(0,0); } 100% { transform: translate(10%, 15%); } }

.story-body { position: relative; z-index: 10; width: 100%; }

h1 { font-size: 48px; text-transform: uppercase; line-height: 0.85; text-shadow: 4px 4px 0px var(--primary); }
h2 { font-size: 18px; color: var(--primary); letter-spacing: 3px; margin-bottom: 20px; }

.big-number { 
    font-size: 100px; font-weight: 900; line-height: 1; margin: 10px 0;
    background: linear-gradient(#fff, var(--primary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
}

.photo-container { 
    width: 240px; height: 240px; border-radius: 40px; border: 4px solid #fff; 
    overflow: hidden; margin: 20px auto; transform: rotate(-3deg); box-shadow: 15px 15px 0px var(--primary); 
}
.photo-container img { width: 100%; height: 100%; object-fit: cover; }

#progressRoot { position: absolute; top: 15px; width: 92%; left: 4%; display: flex; gap: 4px; z-index: 100; }
.progress-bar { height: 3px; background: rgba(255,255,255,0.3); flex: 1; border-radius: 10px; overflow: hidden; }
.progress-fill { height: 100%; background: #fff; width: 0%; }
.active .progress-fill { width: 100%; transition: width 5s linear; }
.completed .progress-fill { width: 100%; }

#tapZones { position: absolute; top:0; left:0; width:100%; height:100%; display: flex; z-index: 150; }
#login { position: fixed; width:100%; height:100%; background:#000; z-index:200; display:flex; flex-direction:column; align-items:center; justify-content:center; }
#login.active { display: flex; }
