:root {
    --primary: #FF8200;
    --accent: #FF007A;
    --bg: #000000;
}

/* Temas dinámicos */
body[data-dev="acento"], body[data-dev="meseta"] { --primary: #0070f3; --accent: #00d4ff; }

* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', 'Segoe UI', sans-serif; }

body { background: #000; color: #fff; overflow: hidden; height: 100vh; display: flex; justify-content: center; }

#capture-area { 
    width: 100%; max-width: 430px; height: 100vh; 
    position: relative; overflow: hidden; background: #000;
}

/* FONDO ANIMADO LAVA LAMP */
.story {
    position: absolute; width: 100%; height: 100%;
    display: none; flex-direction: column; justify-content: center; align-items: center;
    padding: 40px; text-align: center;
}

.story::before {
    content: ""; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
    background: radial-gradient(circle, var(--primary) 0%, transparent 35%),
                radial-gradient(circle, var(--accent) 0%, transparent 35%);
    background-position: 15% 15%, 85% 85%;
    background-size: 50% 50%;
    animation: lava 12s infinite alternate ease-in-out;
    opacity: 0.35; z-index: 1; filter: blur(50px);
}

@keyframes lava { 
    0% { transform: translate(0,0) rotate(0deg); } 
    100% { transform: translate(10%, 15%) rotate(8deg); } 
}

.story-body { position: relative; z-index: 10; width: 100%; }

/* TIPOGRAFÍA */
h1 { font-weight: 900; font-size: 48px; line-height: 0.9; letter-spacing: -2px; text-transform: uppercase; margin-bottom: 15px; }
h2 { font-weight: 700; font-size: 16px; color: var(--primary); letter-spacing: 3px; text-transform: uppercase; margin-bottom: 15px; }

.big-number { 
    font-size: 115px; font-weight: 900; line-height: 1; letter-spacing: -6px;
    background: linear-gradient(#fff, var(--primary));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    margin: 10px 0;
}

.frase-jiribilla { font-size: 24px; font-weight: 800; line-height: 1.1; margin-top: 20px; text-wrap: balance; }

/* FOTO SQUIRCLE CON GIRO */
.photo-container { 
    width: 240px; height: 240px; border-radius: 45px; 
    border: 4px solid #fff; overflow: hidden; margin: 0 auto;
    box-shadow: 0 20px 50px rgba(0,0,0,0.6); transform: rotate(-3deg);
}
.photo-container img { width: 100%; height: 100%; object-fit: cover; }

/* BARRAS DE PROGRESO */
#progressRoot { position: absolute; top: 15px; width: 92%; left: 4%; display: flex; gap: 5px; z-index: 100; }
.progress-bar { height: 3px; background: rgba(255,255,255,0.2); flex: 1; border-radius: 10px; overflow: hidden; }
.progress-fill { height: 100%; background: #fff; width: 0%; }
.active .progress-fill { width: 100%; transition: width 5s linear; }

/* CARD RESUMEN FINAL */
.card-summary { 
    background: #fff; color: #000; padding: 35px 25px; border-radius: 25px; 
    text-align: center; transform: rotate(1.5deg); box-shadow: 12px 12px 0px var(--primary);
}
.stats-grid { display: flex; justify-content: space-around; margin-top: 25px; border-top: 1px dashed #bbb; padding-top: 20px; }
.stat-item span { font-size: 10px; font-weight: 800; opacity: 0.6; }
.stat-item strong { font-size: 32px; color: var(--primary); display: block; }

/* LOGIN */
#login { position: fixed; width:100%; height:100%; background:#000; z-index:500; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; }
#login h1 span { color: var(--primary); }
#agentInput { padding:18px; width:80%; border-radius:15px; border:none; background:#111; color:#fff; margin:25px 0; text-align:center; font-size:16px; }
#startBtn { background:var(--primary); color:#fff; border:none; padding:18px 40px; border-radius:50px; font-weight:900; cursor:pointer; }

/* NAVEGACIÓN */
#tapZones { position: absolute; top:0; left:0; width:100%; height:100%; display: flex; z-index: 150; }
.tap-left { flex: 1; }
.tap-right { flex: 3; }

#exportBtn { margin-top:35px; padding:15px 35px; background:var(--primary); color:#fff; border:none; border-radius:50px; font-weight:900; cursor:pointer; }
